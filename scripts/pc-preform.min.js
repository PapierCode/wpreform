!function(e){e.gallery=function(t,n){var i={btnPrevClass:"",btnNextClass:"",btnPrevInner:"Image précédente",btnNextInner:"Image suivante",btnCloseClass:"",btnCloseInner:"Fermer la galerie",loaderContent:'<div class="loader-item loader-item--1"></div><div class="loader-item loader-item--2"></div><div class="loader-item loader-item--3"></div>',closingDuration:400,moveDuration:500,responsiveImg:!1,responsiveKeyPoint:1e3,beforeAddStructure:function(){},afterAddStructure:function(){},beforeChangeSlide:function(){},afterChangeSlide:function(){}},s=this;s.settings={};var a,o,l,r,d,c,u,m,v,p,h,b,g,f,y,C,k,w=e(t),x=e("body"),I=[],z=[];s.init=function(){s.settings=e.extend({},i,n),w.on("click","a",(function(t){if(a=w.find("li:not(.gallery-not-in) a"),t.preventDefault(),s.settings.responsiveImg&&e(window).width()<s.settings.responsiveKeyPoint){for(var n=0;n<a.length;n++)I[n]=a.eq(n).data("gl-responsive"),z[n]=a.eq(n).data("gl-caption");l=I.indexOf(e(this).data("gl-responsive"))}else{for(var i=0;i<a.length;i++)I[i]=a.eq(i).attr("href"),z[i]=a.eq(i).data("gl-caption");l=I.indexOf(e(this).attr("href"))}o=I.length,A(),x.addClass("gl-active").on("keydown",L),$itemsToMove=u.eq(l).prevAll();for(var r=$itemsToMove.length;r>0;r--)$itemsToMove.eq(r-1).appendTo(c);v=u.eq(l).addClass("is-active is-hidden"),q(v,I[l],0),y.html(z[l])}))};var A=function(){var t='<div class="gl" aria-hidden="true"><div class="gl-main"><div class="gl-slides" style="width:'+100*o+'%" ></div></div></div>';x.append(t),r=e(".gl").on("click",S),c=e(".gl-slides");for(var n=0;n<o;n++)c.append('<div class="gl-slide is-hidden slide-'+n+'" style="width:'+(100/o).toFixed(4)+'%"><div class="gl-slide-inner"></div></div>');u=e(".gl-slide"),r.prepend('<div class="gl-header"><div class="gl-counter"><span class="gl-counter-current">'+(l+1)+'</span> / <span class="gl-counter-all">'+I.length+"</span></div></div>"),r.append('<div class="gl-footer"><div class="gl-caption"></div></div>'),d=e(".gl-header"),y=e(".gl-caption"),C=e(".gl-counter"),k=e(".gl-counter-current"),o>1&&(d.append('<button class="gl-btn gl-btn-nav gl-btn-nav--prev reset-btn '+s.settings.btnPrevClass+'" aria-hidden="true" tabindex="-1"><span class="ico">'+s.settings.btnPrevInner+'</span></button><button class="gl-btn gl-btn-nav gl-btn-nav--next reset-btn '+s.settings.btnNextClass+'" aria-hidden="true" tabindex="-1"><span class="ico">'+s.settings.btnPrevInner+"</span></button>"),h=e(".gl-btn-nav").on("mouseup",(function(){e(this).blur()})),b=e(".gl-btn-nav--prev").on("click",(function(){D()})),g=e(".gl-btn-nav--next").on("click",(function(){T()}))),d.append('<button class="gl-btn gl-btn-close reset-btn '+s.settings.btnCloseClass+'"><span class="ico">'+s.settings.btnCloseInner+"</span></button>"),f=e(".gl-btn-close").on("click",(function(){V()})),r.append('<div class="gl-loader loader">'+s.settings.loaderContent+"</div>"),p=e(".loader"),s.settings.afterAddStructure(r,p,C,b,g,f,h)},L=function(e){switch(e.keyCode){case 27:V();break;case 37:o>1&&D();break;case 39:o>1&&T()}},D=function(){-1===(l-=1)&&(l=I.length-1),q(u.eq(l),I[l],-1)},T=function(){(l+=1)>I.length-1&&(l=0),q(u.eq(l),I[l],1)},V=function(){r.addClass("is-hidden"),setTimeout((function(){r.remove()}),s.settings.closingDuration),x.removeClass("gl-active").off("keydown",L),I=[],z=[]},S=function(t){e(t.target).is("img, button")||V()},q=function(t,n,i){t.hasClass("is-loaded")?0!==i&&E(i):(p.removeClass("is-hidden"),o>1&&h.addClass("is-loading"),e.ajax({url:n,cache:!0,processData:!1}).always((function(){p.addClass("is-hidden"),o>1&&h.removeClass("is-loading"),t.addClass("is-loaded").children().append('<img src="'+n+'" />'),O(t.find("img")),0===i?t.removeClass("is-hidden"):E(i)})))},E=function(e){s.settings.beforeChangeSlide(l),h.attr("disabled","disabled").addClass("is-disabled"),x.off("keydown",L),m=v.removeClass("is-active").addClass("is-leaving"),v=u.eq(l).addClass("is-coming"),e<0?(c.css("left",100*e+"%").children(":last").prependTo(c),m.addClass("is-leaving-to-right"),v.addClass("is-coming-from-left")):(m.addClass("is-leaving-to-left"),v.addClass("is-coming-from-right")),c.animate({left:"-="+100*e+"%"},{duration:s.settings.moveDuration*Math.abs(e),complete:function(){v.addClass("is-active").removeClass("is-coming"),m.removeClass("is-leaving"),h.removeAttr("disabled").removeClass("is-disabled"),x.on("keydown",L),e>0?(c.css("left","0").children(":first").appendTo(c),m.removeClass("is-leaving-to-left"),v.removeClass("is-coming-from-right")):(m.removeClass("is-leaving-to-right"),v.removeClass("is-coming-from-left")),k.text(l+1),y.html(z[l]),s.settings.afterChangeSlide(l)}})},O=function(e){var t;e[0].addEventListener("touchstart",(function(e){var n=e.changedTouches[0];t=parseInt(n.clientX),undefined.text(t),e.preventDefault()}),!1),e[0].addEventListener("touchend",(function(e){var n=e.changedTouches[0],i=parseInt(n.clientX)-t;Math.abs(i)>50&&(i>0?D():T()),e.preventDefault()}),!1)};s.foo_public_method=function(){},s.init()},e.fn.gallery=function(t){return this.each((function(){if(void 0===e(this).data("gallery")){var n=new e.gallery(this,t);e(this).data("gallery",n)}}))}}(jQuery);var rem=function(e,t){return null==t&&(t=16),e/t+"rem"};jQuery(document).ready((function(e){e("html");var t=e("body"),n=e("head");e(".js-toggle").click((function(){var t=e(this),n=e("#"+t.attr("aria-controls"));t.hasClass("is-open")?n.slideUp((function(){t.removeClass("is-open").attr("aria-expanded","false"),n.removeClass("is-open").attr("aria-hidden","true")})):n.slideDown((function(){t.addClass("is-open").attr("aria-expanded","true"),n.addClass("is-open").removeAttr("aria-hidden")}))})),e("button").mouseup((function(){e(this).blur()})),e(".gallery").gallery({btnNextInner:sprite.arrow,btnPrevInner:sprite.arrow,btnCloseInner:sprite.cross,moveDuration:500,responsiveImg:!0}),e(".editor iframe").each((function(){e(this).wrap('<div class="iframe iframe_16-10"></div>')}));var i=e(".js-button-map");if(i.length>0){t.append('<div class="map"></div>');var s=e(".map"),a=!1,o=15,l=function(){s.removeClass("is-visible").empty(),t.off("keydown",r)},r=function(e){27==e.keyCode&&l()};i.click((function(){var i=e(this);s.append('<div id="map" class="map-inner"></div><div class="map-controls"><button type="button" class="map-btn-zoom map-btn-zoom--in button"><span class="ico">'+sprite.more+'</span></button><button type="button" class="map-btn-zoom map-btn-zoom--out button">'+sprite.less+'</button><button type="button" class="map-btn-hide button" title="Fermer" data-cible="map"><span class="ico">'+sprite.cross+"</span></button></div>");var d=i.data("lat"),c=i.data("long"),u=(s.find(".map-btn-zoom").mouseup((function(){e(this).blur()})),s.find(".map-btn-zoom--in")),m=s.find(".map-btn-zoom--out");if(s.find(".map-btn-hide").on("click",l),t.on("keydown",r),!a&&"undefined"==typeof L){a=!0;var v=e(document.createElement("link"));v.attr("href","https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"),v.attr("rel","stylesheet"),v.attr("integrity","sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="),v.attr("crossorigin",""),n.append(v);var p=e(document.createElement("script"));p.attr("src","https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"),p.attr("integrity","sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="),p.attr("crossorigin",""),t.append(p)}var h=setInterval((function(){if("undefined"!=typeof L){clearInterval(h),s.addClass("is-visible"),t.on("keydown",r);var n=L.map("map",{minZoom:10,maxZoom:18,zoomControl:!1,scrollWheelZoom:!1,tap:!1}).setView([d,c],15);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGFwaWVyY29kZSIsImEiOiJja203a3E5N3kweXplMnhuNjBuOTV2bmQ1In0.UtKowadsitAGdxDUpMv5aA",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1}).addTo(n);var i=L.divIcon({iconSize:[40,60],iconAnchor:[20,60],className:"map-marker"});L.marker([d,c],{icon:i}).addTo(n);u.click((function(){n.zoomIn(),18==++o&&e(this).prop("disabled",!0),11==o&&m.prop("disabled",!1)})),m.click((function(){n.zoomOut(),10==--o&&e(this).prop("disabled",!0),17==o&&u.prop("disabled",!1)}))}}),100)}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("html"),t={btnBox:document.querySelector(".h-nav-btn-box"),menu:document.querySelector(".h-nav"),isOpen:!1,getBtnVisibility(){return"none"!=getComputedStyle(this.btnBox).display},update(){this.btnIsVisible?(this.btn.onclick=e=>{this.toggle(e)},this.menu.setAttribute("aria-labelledby","#header-nav-btn"),this.menu.setAttribute("aria-hidden","true"),this.menu.style.visibility="hidden",this.menu.onclick=e=>{this.overlay(e)}):(this.btn.onclick=null,this.menu.removeAttribute("aria-labelledby"),this.menu.removeAttribute("aria-hidden"),this.menu.removeAttribute("style"),this.menu.onclick=null,this.menu.ontransitionend=null,e.classList.remove("h-nav-is-open"))},onWinResize(){var e=this.getBtnVisibility();this.btnIsVisible!=e&&(this.btnIsVisible=e,this.update())},toggle(t){this.isOpen?(null==this.menu.ontransitionend&&(this.menu.ontransitionend=()=>{this.btn.setAttribute("aria-expanded","false"),this.menu.setAttribute("aria-hidden","true"),this.menu.style.visibility="hidden"}),e.classList.remove("h-nav-is-open"),document.removeEventListener("keydown",this.onKeyDown),this.isOpen=!1):(this.btn.setAttribute("aria-expanded","true"),this.menu.removeAttribute("aria-hidden"),this.menu.style.visibility="visible",this.menu.ontransitionend=null,e.classList.add("h-nav-is-open"),document.addEventListener("keydown",this.onKeyDown),this.isOpen=!0)},overlay(e){e.target==t.menu&&t.toggle()},onKeyDown(e){"Escape"==e.key&&t.toggle()},init(){this.btn=this.btnBox.firstChild,this.btnIsVisible=this.getBtnVisibility(),this.btnIsVisible&&this.update(),this.resizeTimer=null,window.addEventListener("resize",(()=>{clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((()=>{this.onWinResize()}),250)}))}};t.init()}));